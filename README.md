# SurVIndel

## Compiling

To be compiled, SurVIndel requires g++ 4.7.2.

htslib 1.7 is included in the source, zipped. First of all, you should build it by using the provided script
```
./build_htslib.sh
```
If htslib does not build correctly, please refer to https://github.com/samtools/htslib

Then, run

```
cmake . && make
```

## Preparing the reference

The reference fasta file should be indexed by both bwa and samtools. For example, assuming the file is hg19.fa, you should run
```
bwa index hg19.fa
samtools faidx hg19.fa
```

## Preparing the BAM file

SurVIndel has currently only been tested using BAM files generated by BWA MEM, therefore we recommend its usage. 
It should also be run through Picard FixMateInformation (http://broadinstitute.github.io/picard/command-line-overview.html#FixMateInformation);
in particular, it should have the MQ and MC tags.
Finally, the file should be sorted and indexed ad usual using samtools.

Supposing file.bam is the file resulting from the alignment:
```
java -jar picard.jar FixMateInformation I=file.bam
samtools sort file.bam > sorted.bam
samtools index sorted.bam
```

